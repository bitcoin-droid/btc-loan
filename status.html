<!DOCTYPE html>
<html>
<head>
  <title>Loan Status</title>
  <script src="api.js"></script>
</head>
<body style="font-family:Arial;max-width:600px;margin:auto;padding:30px;text-align:center;">

  <h1>Loan Application Status</h1>

  <p><strong>Loan ID:</strong> <span id="loanId"></span></p>

  <h2 id="statusText">Pending Approval</h2>

  <p>Estimated approval time: <strong>24 hours</strong></p>

  <h3 id="countdown"></h3>

  <p>You will receive an email notification once your loan is reviewed.</p>

<script>
  const params = new URLSearchParams(window.location.search);
  const loanId = params.get("loanId") || "N/A";
  document.getElementById("loanId").textContent = loanId;

  // 24-hour countdown
  const endTime = Date.now() + 24 * 60 * 60 * 1000;

  function updateCountdown() {
    const diff = endTime - Date.now();
    if (diff <= 0) {
      document.getElementById("countdown").textContent = "Review in progress";
      return;
    }

    const h = Math.floor(diff / 3600000);
    const m = Math.floor((diff % 3600000) / 60000);
    const s = Math.floor((diff % 60000) / 1000);

    document.getElementById("countdown").textContent =
      `${h}h ${m}m ${s}s remaining`;
  }

  setInterval(updateCountdown, 1000);
  updateCountdown();
</script>

</body>
</html>
